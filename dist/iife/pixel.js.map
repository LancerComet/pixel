{"version":3,"file":"pixel.js","sources":["../../src/main.js"],"sourcesContent":["import {  TemplateSmooth1,\n          TemplateSmooth2,\n          TemplateSmooth3,\n          Laplacian0,\n          Laplacian1,\n          Laplacian2,\n          SobelX,\n          SobelY,\n          PrewittX,\n          PrewittY } from './const';\n\n/**\n * 求补（异步）\n * r = 255 - r\n * g = 255 - g\n * b = 255 - b\n * a = a\n * @param {Array} data\n * @return Promise\n */\nfunction complement(data) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      for(let i = 0; i < data.length; i += 4) {\n        data[i] = 255 - data[i];\n        data[i+1] = 255 - data[i+1];\n        data[i+2] = 255 - data[i+2];\n      }\n      resolve(data);\n    }, 0);\n  });\n}\n\n/**\n * 线性运算（异步）\n * r = r * x + y\n * g = g * x + y\n * b = b * x + y\n * a = a\n * @param {Array} data\n * @param {Number} x\n * @param {Number} y\n * @return Promise\n */\nfunction linear(data, x, y) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      for(let i = 0; i < data.length; i += 4) {\n        data[i] = x * data[i] + y;\n        data[i+1] = x * data[i+1] + y;\n        data[i+2] = x * data[i+2] + y;\n      }\n      resolve(data);\n    }, 0);\n  });\n}\n\n/**\n * 改变透明度（异步）\n * r = r\n * g = g\n * b = b\n * a = opacity * 255\n * @param {Array} data\n * @param {Number} opacity: 0 ~ 1\n * @return Promise\n */\nfunction opacity(data, opacity) {\n  opacity = 225 * opacity;\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      for (let i = 0; i < data.length; i += 4) {\n        data[i+3] = opacity;\n      }\n      resolve(data);\n    }, 0);\n  });\n}\n\n/**\n * 二值化（异步）\n * r = r < threshold ? 0 : 255\n * g = g < threshold ? 0 : 255\n * b = b < threshold ? 0 : 255\n * a = a\n * @param {Number} threshold\n */\nfunction binarization(data, threshold) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      for(let i = 0; i < data.length; i += 4) {\n        data[i] = data[i+1] = data[i+2] = data[i] < threshold ? 0 : 255;\n      }\n      resolve(data);\n    }, 0);\n  });\n}\n\n/**\n * 转换为灰度（异步）\n * r = g = b = (r+g+b)/3\n * a = a\n * @return Promise\n */\nfunction gray(data) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      for(let i = 0; i < data.length; i += 4) {\n        var gray = (data[i] + data[i+1] + data[i+2]) / 3;\n        data[i] = data[i+1] = data[i+2] = gray;\n      }\n      resolve(data);\n    }, 0);\n  });\n}\n\nexport default {\n  complement,\n  linear,\n  opacity,\n  binarization,\n  gray\n};\n"],"names":[],"mappings":"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"}